"use strict";(function(){const f="/en.search-data.min.4ffa654a602fbf9d7469a51fcdef40271b08b61f9db16a54d81405fdea1de214.json",e=document.querySelector("#book-search-input input"),o=document.querySelector("#search-overlay"),t=document.querySelector("#book-search-hits"),n=document.querySelector("#book-search-results ul"),m=1/0,v=2,d=new Map;if(!e)return;e.addEventListener("focus",a),e.addEventListener("keyup",u),document.addEventListener("keypress",y),o.addEventListener("click",()=>{c()});function y(t){if(t.target.value!==void 0)return;if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!b(n))return;e.focus(),t.preventDefault()}function b(t){const n=e.getAttribute("data-hotkeys")||"";return n.indexOf(t)>=0}function a(){e.removeEventListener("focus",a),e.required=!0,fetch(f).then(e=>e.json()).then(e=>{window.lunrIdx=lunr(function(){this.ref("id"),this.field("id"),this.field("content"),this.field("href"),this.metadataWhitelist=["position"];for(const t of e)d.set(t.id,t),this.add(t)})}).then(()=>e.required=!1).then(u)}function u(){const t=e.value?.trim();if(e.required)return;for(;n.firstChild;)n.removeChild(n.firstChild);if(!t||t.length<=v){c();return}function o(e){return t.split(" ").map(t=>{if(!t)return;return t.length<=4||!e?`+${t}`:`+${t}~1`}).filter(e=>!!e).join(" ")}function u(){const e=window.lunrIdx.search(o()).slice(0,m);return e.length?e:window.lunrIdx.search(o(!0)).slice(0,m)}const a=u();if(j(),!a.length){r(`Not Found`,`Sorry, we couldn't find any matches. Try searching for a different keyword`);return}const l=window.location.pathname;a.forEach(e=>{const t=d.get(Number(e.ref));if(!t)return;if(s(l)&&i(t.href)||i(l)&&s(t.href))return;const n=p(t.content,e);r(t.title,n,t.href)})}function s(e){return e&&e.includes("creator/development-guide")&&!e.includes("sdk7")}function i(e){return e&&e.includes("creator/development-guide/sdk7")}function r(e,t,o){const a=g("<li><a href><p></p><span></span></a></li>");o&&(a.querySelector("a").href=o);const r=s(o)&&" [SDK 6]",c=i(o)&&" [SDK 7]",l=r||c||"";a.querySelector("span").innerHTML=t,a.querySelector("p").innerHTML=`<span style="font-size: 18px; font-weight: 700;">${e}</span>${l}`,n.appendChild(a)}function p(e,t){const s=60,{metadata:i}=t.matchData;let o=0,a=100;const r=Object.keys(i).sort();for(const n of r){const t=i[n]?.content?.position;if(!t)continue;for(const i of t){const n=i[0];o=Math.max(0,e.length-n<=s?n-s*2:n-s),a=n+i[1]+s}break}let n=e.slice(o,a);o!==0&&(n=`...${n}`);for(const e of r)n=n.replace(new RegExp(e,"gi"),"<strong>$&</strong>");return n+"..."}function g(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild}function h(e){e.classList.add("hidden")}function l(e){e.classList.remove("hidden")}function j(){if(!t.classList.contains("hidden"))return;t.scrollTop=0,l(o),l(t)}function c(){h(o),h(t)}})()